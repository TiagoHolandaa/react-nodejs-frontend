{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tiago - DARM\\\\Documents\\\\GitHub\\\\react-nodejs-frontend\\\\src\\\\pages\\\\MainPage\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../contexts/auth\";\nimport Nav from \"./Nav\";\nimport Search from \"./Search\";\nimport Repositories from \"./Repositories\";\nimport { getRepositories, createRepository, destroyRepository } from \"../../services/api\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MainPage = () => {\n  _s();\n\n  const {\n    user,\n    logout\n  } = useContext(AuthContext);\n  const [repositories, setRepositories] = useState([{\n    name: \"Meu Reposit贸rio\",\n    url: \"https://github.com/usuario/meu-repositorio\",\n    userId: \"1234567890abcdef\",\n    createdAt: \"2025-06-30T14:20:00.000Z\",\n    updatedAt: \"2025-06-30T14:20:00.000Z\"\n  }]);\n  const [loading, setLoading] = useState(true);\n  const [loadingError, setLoadingError] = useState(false);\n\n  const loadData = async function () {\n    let query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n\n    try {\n      setLoading(true);\n      const response = await getRepositories(user === null || user === void 0 ? void 0 : user.id, query);\n      setRepositories(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error(error);\n      setLoadingError(true);\n    }\n  };\n  /* useEffect(() => {\r\n        (async () => await loadData())();\r\n    }, []) */\n\n\n  const handlelogout = () => {\n    console.log(\"logout\");\n    logout();\n  };\n\n  const handleSearch = query => {\n    loadData(query);\n  };\n\n  const handleDeleteRepo = async repository => {\n    console.log(\"delete repo\", repository);\n    await destroyRepository(user === null || user === void 0 ? void 0 : user.id, repository._id);\n    await loadData();\n  };\n\n  const handleNewRepo = async url => {\n    console.log(\"new repo\", url);\n\n    try {\n      await createRepository(user === null || user === void 0 ? void 0 : user.id, url);\n      await loadData();\n    } catch (error) {\n      console.error(error);\n      setLoadingError(true);\n    }\n  };\n  /* if (loadingError) {\r\n        return (\r\n            <div className=\"loading\">\r\n                Erro ao carregar os dados de reposit贸rio. <Link to=\"/login\">Voltar</Link>.\r\n            </div>\r\n        )\r\n    } */\n\n  /* if (loading) {\r\n        return (\r\n            <div className=\"loading\">\r\n                Carregando...\r\n            </div>\r\n        )\r\n    } */\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(Nav, {\n      onLogout: handlelogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      onSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Repositories, {\n      repositories: repositories,\n      onDeleteRepo: handleDeleteRepo,\n      onNewRepo: handleNewRepo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MainPage, \"DwvNT4jLq5HoK+zmrAyjfVJBYeA=\");\n\n_c = MainPage;\nexport default MainPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Link","AuthContext","Nav","Search","Repositories","getRepositories","createRepository","destroyRepository","MainPage","user","logout","repositories","setRepositories","name","url","userId","createdAt","updatedAt","loading","setLoading","loadingError","setLoadingError","loadData","query","response","id","data","error","console","handlelogout","log","handleSearch","handleDeleteRepo","repository","_id","handleNewRepo"],"sources":["C:/Users/Tiago - DARM/Documents/GitHub/react-nodejs-frontend/src/pages/MainPage/index.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../../contexts/auth\";\r\n\r\nimport Nav from \"./Nav\";\r\nimport Search from \"./Search\";\r\nimport Repositories from \"./Repositories\";\r\n\r\nimport {\r\n  getRepositories,\r\n  createRepository,\r\n  destroyRepository,\r\n} from \"../../services/api\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst MainPage = () => {\r\n  const { user, logout } = useContext(AuthContext);\r\n  const [repositories, setRepositories] = useState([\r\n    {\r\n      name: \"Meu Reposit贸rio\",\r\n      url: \"https://github.com/usuario/meu-repositorio\",\r\n      userId: \"1234567890abcdef\",\r\n      createdAt: \"2025-06-30T14:20:00.000Z\",\r\n      updatedAt: \"2025-06-30T14:20:00.000Z\",\r\n    },\r\n  ]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingError, setLoadingError] = useState(false);\r\n\r\n  const loadData = async (query = \"\") => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getRepositories(user?.id, query);\r\n      setRepositories(response.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setLoadingError(true);\r\n    }\r\n  };\r\n\r\n  /* useEffect(() => {\r\n        (async () => await loadData())();\r\n    }, []) */\r\n\r\n  const handlelogout = () => {\r\n    console.log(\"logout\");\r\n    logout();\r\n  };\r\n\r\n  const handleSearch = (query) => {\r\n    loadData(query);\r\n  };\r\n\r\n  const handleDeleteRepo = async (repository) => {\r\n    console.log(\"delete repo\", repository);\r\n    await destroyRepository(user?.id, repository._id);\r\n    await loadData();\r\n  };\r\n\r\n  const handleNewRepo = async (url) => {\r\n    console.log(\"new repo\", url);\r\n    try {\r\n      await createRepository(user?.id, url);\r\n      await loadData();\r\n    } catch (error) {\r\n      console.error(error);\r\n      setLoadingError(true);\r\n    }\r\n  };\r\n\r\n  /* if (loadingError) {\r\n        return (\r\n            <div className=\"loading\">\r\n                Erro ao carregar os dados de reposit贸rio. <Link to=\"/login\">Voltar</Link>.\r\n            </div>\r\n        )\r\n    } */\r\n\r\n  /* if (loading) {\r\n        return (\r\n            <div className=\"loading\">\r\n                Carregando...\r\n            </div>\r\n        )\r\n    } */\r\n\r\n  return (\r\n    <div id=\"main\">\r\n      <Nav onLogout={handlelogout} />\r\n\r\n      <Search onSearch={handleSearch} />\r\n\r\n      <Repositories\r\n        repositories={repositories}\r\n        onDeleteRepo={handleDeleteRepo}\r\n        onNewRepo={handleNewRepo}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}